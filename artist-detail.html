<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>VIBE ‚Äî Artist</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="styles.css"/>
<style>
.artist-hero {
  display: flex;
  align-items: center;
  gap: 32px;
  padding: 40px;
  background: var(--bg2);
  border-radius: 20px;
  margin-bottom: 32px;
  border: 1px solid rgba(255,255,255,0.05);
}

.artist-hero-image {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent1), var(--accent2));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 72px;
  overflow: hidden;
  border: 4px solid rgba(255,255,255,0.1);
  flex-shrink: 0;
}

.artist-hero-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.artist-hero-info {
  flex: 1;
}

.artist-hero-name {
  font-size: 42px;
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--text1);
  font-family: 'Bebas Neue', sans-serif;
  letter-spacing: 1px;
}

.artist-hero-bio {
  font-size: 16px;
  color: var(--text2);
  margin-bottom: 12px;
}

.artist-hero-stats {
  font-size: 14px;
  color: var(--text3);
}

@media (max-width: 768px) {
  .artist-hero {
    flex-direction: column;
    text-align: center;
    padding: 24px;
  }
  
  .artist-hero-name {
    font-size: 32px;
  }
}
</style>
</head>
<body>

<!-- ‚îÄ‚îÄ‚îÄ TOP NAV ‚îÄ‚îÄ‚îÄ -->
<nav class="topnav">
  <a href="index.html" class="logo">RESONEX<span></span></a>
  <div class="nav-pills">
    <a href="index.html"     class="nav-pill">Home</a>
    <a href="trending.html"  class="nav-pill">Trending</a>
    <a href="playlists.html" class="nav-pill">Playlists</a>
    <a href="artists.html"   class="nav-pill active">Artists</a>
    <a href="favorites.html" class="nav-pill">Favorites</a>
  </div>
</nav>

<!-- ‚îÄ‚îÄ‚îÄ PAGE CONTENT ‚îÄ‚îÄ‚îÄ -->
<div class="page-body">

  <a href="artists.html" class="back-btn">‚Üê Back to Artists</a>

  <!-- Artist Hero -->
  <div class="artist-hero" id="artistHero">
    <div class="artist-hero-image" id="artistImage">üé§</div>
    <div class="artist-hero-info">
      <div class="artist-hero-name" id="artistName">Artist</div>
      <div class="artist-hero-bio" id="artistBio">Loading...</div>
      <div class="artist-hero-stats" id="artistStats">0 songs</div>
    </div>
  </div>

  <!-- Song List -->
  <div class="section-head">
    <span class="section-title">Songs</span>
  </div>
  <div class="song-row" id="songList">
    <!-- filled by JS -->
  </div>

</div><!-- end page-body -->

<!-- ‚îÄ‚îÄ‚îÄ MINI PLAYER ‚îÄ‚îÄ‚îÄ -->
<div class="mini-player hidden" id="miniPlayer" onclick="window.location.href='player.html'">
  <div class="mp-art" id="mpArt">üéµ</div>
  <div class="mp-info">
    <div class="mp-title"  id="mpTitle">‚Äî</div>
    <div class="mp-artist" id="mpArtist">‚Äî</div>
  </div>
  <div class="mp-progress">
    <div class="mp-progress-fill" id="mpFill"></div>
  </div>
  <div class="mp-controls" onclick="event.stopPropagation()">
    <button class="mp-btn" onclick="prevTrack()">‚èÆ</button>
    <button class="mp-play" id="mpPlay" onclick="togglePlay()">‚ñ∂</button>
    <button class="mp-btn" onclick="nextTrack()">‚è≠</button>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ SCRIPTS ‚îÄ‚îÄ‚îÄ -->
<script src="data.js"></script>
<script>
(function renderArtistDetail() {
  // Get artist ID from URL
  const urlParams = new URLSearchParams(window.location.search);
  const artistId = urlParams.get('id');
  
  // Find the artist
  const artist = DATA.artists.find(a => a.id === artistId);
  
  if (!artist) {
    document.getElementById('artistName').textContent = 'Artist Not Found';
    document.getElementById('artistBio').textContent = 'This artist does not exist.';
    return;
  }
  
  // Update header
  const artistImage = document.getElementById('artistImage');
  if (artist.image) {
    artistImage.innerHTML = `<img src="${artist.image}" alt="${artist.name}">`;
  } else {
    artistImage.textContent = artist.emoji;
  }
  
  document.getElementById('artistName').textContent = artist.name;
  document.getElementById('artistBio').textContent = artist.bio;
  document.getElementById('artistStats').textContent = `${artist.songs.length} songs`;
  
  // Render songs
  const row = document.getElementById('songList');
  artist.songs.forEach((songId, index) => {
    const song = DATA.songs[songId];
    if (song) {
      row.appendChild(buildSongItem(song, index + 1));
    }
  });
  
  highlightActiveSong();
})();

function buildSongItem(song, rank) {
  const div          = document.createElement('div');
  div.className      = 'song-item';
  div.dataset.songId = song.id;
  div.onclick        = () => playSong(song.id, true);
  
  // Build album art HTML with image support
  let artHTML;
  if (song.cover) {
    artHTML = `<img src="${song.cover}" alt="${song.title}" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">`;
  } else {
    artHTML = song.emoji;
  }
  
  div.innerHTML = `
    <span class="song-rank">${rank}</span>
    <div class="song-art">${artHTML}</div>
    <div class="song-details">
      <div class="song-title">${song.title}</div>
      <div class="song-artist">${song.artist}</div>
    </div>
    <span class="song-dur">${fmtTime(song.dur)}</span>
    <div class="song-eq"><span></span><span></span><span></span></div>
  `;
  return div;
}

syncMiniPlayer();
highlightActiveSong();
</script>
</body>
</html>